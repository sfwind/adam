<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
        "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="SwallowTopic">

    <typeAlias alias="topic"
               type="com.dianping.ba.es.qyweixin.adapter.biz.domain.topic.Topic"/>

    <resultMap id="topicResult" class="topic">
        <result column="AgentId" property="agentId"/>
        <result column="Type" property="type"/>
        <result column="SwallowTopic" property="swallowTopic"/>
    </resultMap>

    <select id="queryByAgentIdAndType"
            resultMap="topicResult">
        SELECT
        <![CDATA[
            `AgentID`,
            `Type`,
            `SwallowTopic`
        FROM WeiXin_SwallowTopics
        ]]>
        WHERE `AgentId` = #agentId#
        AND LOWER(`Type`) = LOWER(#type#)
    </select>

</sqlMap>